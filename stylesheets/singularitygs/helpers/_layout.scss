//////////////////////////////
// Wrapper mixin for overriding the global contexts as a block
//////////////////////////////
@mixin layout($grid: false, $gutter: false, $output-style: false, $gutter-style: false) {
  // Private holder for current global context
  $layout-private-grid-holder: $grids;
  $layout-private-gutter-holder: $gutters;
  $layout-private-output-holder: $output;
  $layout-private-gutter-style-holder: $gutter-style;

  // Overides current global contexts, but only if needed
  @if $grid != false {
    $grids: $grid !global;
  }
  @if $gutter != false {
    $gutters: $gutter !global;
  }
  @if $output-style != false {
    $output: $output-style !global;
  }
  @if $gutter-style != false {
    $gutter-styles: $gutter-style !global;
  }

  // All the things!
  @content;

  // Resets global contexts
  $grids: $layout-private-grid-holder !global;
  $gutters: $layout-private-gutter-holder !global;
  $output: $layout-private-output-holder !global;
  $gutter-styles: $layout-private-gutter-style-holder !global;
}