// LOAD FRAMEWORK //
@import "compass"
@import "normalize"
@import "margin-reset"
@import "singularitygs"

+margin-reset

$dark: #36332F
$primary: #179AF1
$secondary: complement($primary)//#6B2BAF

$display: "vinyl", sans-serif
$serif: "freight-text-pro", serif
$sans-serif: "freight-sans-pro", sans-serif
$mono: Menlo, Monaco, mono-space

html, body
  height: 100%
  

body
  font-family: $serif
  color: $dark
  font-size: percentage(18/16)
  line-height: $gold * 1em
  letter-spacing: .04em
  @media (min-width: 26em)
    font-size: percentage(20/16)
  @media (min-width: 30em)
    font-size: percentage(22/16)
  @media (min-width: 90em)
    font-size: percentage(24/16)
  @media (min-width: 120em)
    font-size: percentage(26/16)
  @media (min-width: 160em)
    font-size: percentage(30/16)

$columns: 12
$gutter: 2%
$padding: 12px

h1, h2, h3, h4, h5, h6
  font-family: $display
  font-weight: 200
  line-height: 1em

code
  color: $primary
  font-family: $mono
  font-size: .82em

pre
  color: $primary
  text-shadow: none
  line-height: 1em
  margin: ms(-1, 1em) 0
  padding: ms(-2, 1em) ms(-1, 1em)
  background-color: $dark
  border-left: .5em solid mix($secondary, $dark)
  +border-radius(3px)

a, a:link, a:active
  color: $secondary
a:hover
  color: lighten($secondary, 15%)

header, footer
  background-color: $dark
  color: #fff
  height: 100%
  width: 100%
  text-align: center
  background-color: #111
  &:before
    content: " "
    position: absolute
    top: 0
    bottom: 0
    left: 5%
    right: 5%
    +background-grid((1, 6, 1), 3%, $color: #181818)

hgroup
  position: relative
  z-index: 1
  top: 48%
  left: -1%
  color: lighten($dark, 70%)
  h1
    font-size: 2em
    letter-spacing: .1em
  h2
    font-family: $serif
    font-style: italic
    font-weight: normal
    letter-spacing: .075em

#orb
  z-index: 1
  position: fixed
  left: 49%
  top: 50%
  width: 20%
  height: 0
  padding-bottom: 20%

#orb > div
  width: 100%
  height: 100%
  top: -50%
  left: -50%
  position: absolute
  border-radius: 50%
  opacity: .25
  +box-shadow(0 0 .5em #888)
  &:nth-child(1)
    background-color: #f00
    left: -48%
    top: -53%
  &:nth-child(2)
    background-color: #00f
    left: -53%
    top: -49%
  &:nth-child(3)
    background-color: #0f0
    left: -47%
    top: -49%
  &:last-child
    opacity: 1
    background-color: #000

article
  padding: 2em 5%
  position: relative
  z-index: 2
  background-color: transparentize(lighten($dark, 70%), .1)
  text-shadow: 0 1px 0 #fff, 0 -1px 0 lighten($dark, 60%)
  h2
    text-transform: uppercase
    letter-spacing: .05em
    font-size: ms(1, 1em)
    margin-bottom: ms(-2, 1em)
  h3, h4, h5
    padding-top: ms(1, 1em)
    text-transform: uppercase
  p
    margin-top: ms(-1, 1em)

section
  padding-top: 2em
  &:before
    content: " "
    display: block
    height: .1em
    margin: .5em 0
    +background-grid((1, 6, 1), 3%, $primary)    

nav
  position: fixed
  z-index: 2
  top: .5em
  right: .5em
  background-color: lighten($dark, 70%)
  +border-radius(2px)
  border-top: 1px solid lighten($dark, 90%)
  border-bottom: 1px solid lighten($dark, 60%)
  a, a:link, a:active, a:visited
    display: inline-block
    color: $dark
    text-decoration: none
    padding: 0 .5em
    border-left: 1px solid lighten($dark, 90%)
    border-right: 1px solid lighten($dark, 40%)
    &:first-child
      border-left: none
    &:last-child
      border-right: none
    &:hover
      background-color: lighten($dark, 60%)
      color:  darken($primary, 20%)

@media (min-width: 26em)
  header:before, footer:before
    +background-grid(compound(3, 5), 2%, $color: #181818)
  section:before
    +background-grid(compound(3, 5), 2%, $primary)
  article h2
    margin-left: (grid-span(1, 1, 5, 2%) + 2%)

@media (min-width: 40em)
  header:before, footer:before
    +background-grid(compound(5, 7), 1.5%, $color: #181818)
  section:before
    +background-grid(compound(5, 7), 1.5%, $primary)
  p, pre, article h3, article h4, article h5
    margin: 0 (grid-span(1, 1, 7, 1.5%) + 1.5%)

@media (min-width: 60em)
  header:before, footer:before
    +background-grid(compound(5, 9), 1%, $color: #181818)
  section:before
    +background-grid(compound(5, 9), 1%, $primary)
  p, article h3, article h4, article h5
    margin: 0 (grid-span(1, 1, 5, 1%) + 1%)
  pre, article h2
    margin: 0 (grid-span(2, 1, 9, 1%) + 1%)
